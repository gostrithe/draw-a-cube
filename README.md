# 说明文件

    本作品设计的最终效果为，模拟用线条绘制出魔方纸图，保留绘图痕迹，制图绘制成功后，施展编程魔法，如同马良的神笔，将纸上的魔方纸图折叠起来，变成立体的活的3d魔方，然后开始旋转跳跃闭着双眼....此外，还可以在区域内通过鼠标右键点击对魔方的控制，进行风骚的走位。

## 使用语言与技术

    本作品使用JavaScript语言，以及HTML+CSS，跑在浏览器上。主要的技术点有，canvas画板，css3d动画，定时器，promise异步编程....

## 设计思路

    本作品的设计思路主要分为两大部分：

- 绘图部分
  - 这里的设计是六个面同时进行绘画，所以先从最简单的绘制一条线开始，封装一个画线的方法，支持上下左右四个方向以及线的长度。而画面方法的封装就是基于画线的方法再添加上区域喷色，提供一个起点和宽度，利用异步编程去控制编排画线。最后调用 6 个起点画面，同步执行。
- 3d 部分
  - 这里设计以白色面为折叠中心面，其他面向内折叠，形成封闭的正方体。然后进行一个屏幕 y 轴的正方体中心自旋转，同时为了体现立体感，魔方会一直保持一个屏幕 x 轴的角度倾斜。而自旋转待在原地的设计也是为了配合后面的鼠标控制。

## 原理

    1. 绘图痕迹原理
        采用一次画一点点的思想。通过设置间隔定时器，一帧一帧的去渲染画板，当帧数足够高时就会表现为动画的效果。
    2. 绘图顺序原理
        采用js的Promise异步编程控制，将每个小任务推入队列中排队，当前任务完成后再执行下一个任务。
    3. 3d与折叠原理
        给父元素开启3d效果后，子元素的变形transform通过transition进行自动的过渡。初始状态为样式表中的样式，后续使用js对DOM节点的style属性进行操作赋值。
    4. 无限旋转与点击控制
        无限旋转是使用css的animation动画，先定义好动画帧keyFrames，开启infinite循坏即可。点击控制获取到点击的坐标即可，这里使用了offsetX、offsetY绝对定位相对与父元素。
